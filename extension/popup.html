<!doctype html>
<html lang="uk">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Solana Address Checker</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 12px;
                width: 440px;
            }
            input[type="text"] {
                width: 100%;
                box-sizing: border-box;
                padding: 8px;
                margin-top: 6px;
            }
            button {
                margin-top: 8px;
                padding: 8px 12px;
            }
            label {
                display: block;
                margin-top: 8px;
                font-size: 13px;
            }
            .row {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }
            .row > * {
                flex: 1;
            }
            #result {
                margin-top: 12px;
                white-space: pre-wrap;
                background: #f7f7f8;
                padding: 8px;
                border-radius: 6px;
                max-height: 260px;
                overflow: auto;
            }
            #debug {
                margin-top: 8px;
                font-size: 12px;
                color: #666;
                white-space: pre-wrap;
                max-height: 140px;
                overflow: auto;
            }
            #history {
                margin-top: 12px;
                font-size: 13px;
            }
            .hist-item {
                padding: 6px;
                border-bottom: 1px solid #eee;
                cursor: pointer;
            }
            .hist-item:hover {
                background: #fafafa;
            }
            .badge {
                display: inline-block;
                padding: 2px 8px;
                border-radius: 999px;
                font-size: 12px;
                font-weight: 600;
            }
            .badge-low {
                background: #e8f5e9;
                color: #1b5e20;
            }
            .badge-med {
                background: #fff3e0;
                color: #e65100;
            }
            .badge-high {
                background: #ffebee;
                color: #b71c1c;
            }
        </style>
    </head>
    <body>
        <h3>Solana Address Checker</h3>

        <input
            id="addressInput"
            placeholder="Введіть Solana-адресу (напр.: 3Xoki...)"
        />
        <div class="row">
            <button id="checkBtn">Перевірити</button>
            <button id="runSampleBtn">Тестовий набір</button>
            <button id="clearHistoryBtn">Очистити історію</button>
        </div>

        <label
            ><input type="checkbox" id="useLocalCb" checked /> Використовувати
            локальний blacklist (офлайн)</label
        >

        <label>
            <input type="checkbox" id="useGoplusCb" /> Використовувати GoPlus
            (через бекенд)
        </label>
        <div
            id="goplusInfo"
            style="font-size: 12px; color: #555; margin-top: 4px"
        >
            GoPlus: через бекенд (потрібні GOPLUS_APP_KEY/SECRET на сервері)
        </div>

        <div id="riskRow" style="margin-top: 8px">
            Ризик: <span id="riskBadge" class="badge badge-low">Low</span>
        </div>

        <div id="result" aria-live="polite">Результати будуть тут…</div>
        <div id="debug"></div>

        <h4>Історія перевірок</h4>
        <div id="history"></div>

        <script src="popup.js"></script>
    </body>
</html>
